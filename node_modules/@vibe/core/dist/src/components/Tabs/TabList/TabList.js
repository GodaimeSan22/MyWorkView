import{slicedToArray as e,defineProperty as t}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import r from"classnames";import{camelCase as s}from"lodash-es";import i,{forwardRef as n,useRef as o,useState as a,useEffect as l,useMemo as d,useCallback as c}from"react";import m from"../../../hooks/useGridKeyboardNavigation/useGridKeyboardNavigation.js";import u from"../../../hooks/useMergeRef.js";import p from"../../../hooks/usePrevious/index.js";import{NOOP as f}from"../../../utils/function-utils.js";import{getTestId as v,ComponentDefaultTestId as b}from"../../../tests/testIds.js";import{getStyle as h}from"../../../helpers/typesciptCssModulesHelper.js";import I from"./TabList.module.scss.js";var C=n((function(n,C){var g=n.className,N=n.id,T=n.onTabChange,j=void 0===T?f:T,y=n.activeTabId,L=void 0===y?0:y,k=n.tabType,x=void 0===k?"Compact":k,A=n.size,E=n.stretchedUnderline,B=void 0!==E&&E,P=n.children,S=n["data-testid"],U=o(null),_=u(C,U),G=a(L),H=e(G,2),K=H[0],M=H[1],O=p(L);l((function(){L!==O&&L!==K&&M(L)}),[L,O,K,M]);var W=d((function(){var e=new Set;return i.Children.forEach(P,(function(t,r){t.props.disabled&&e.add(r)})),e}),[P]),w=c((function(e){W.has(e)||(M(e),j&&j(e))}),[j,W]),z=c((function(e,t){var r,s=null===(r=P[t].props)||void 0===r?void 0:r.onClick;W.has(t)||(s&&s(t),w(t))}),[P,W,w]),R=c((function(e){return P[e]}),[P]),q=d((function(){return Array.from(W)}),[W]),D=o(),F=m({ref:D,numberOfItemsInLine:null==P?void 0:P.length,itemsCount:null==P?void 0:P.length,getItemByIndex:R,onItemClicked:z,disabledIndexes:q,circularNavigation:!0}),J=F.activeIndex,Q=F.onSelectionAction,V=d((function(){return i.Children.map(P,(function(e,t){return i.cloneElement(e,{value:t,active:K===t,focus:J===t,onClick:Q,stretchedUnderline:B,className:r(I.tabListTabWrapper,e.props.className),tabInnerClassName:r(I.tabListTabInner,e.props.tabInnerClassName)})}))}),[P,K,J,Q,B]);return i.createElement("div",{ref:_,className:r(I.tabsWrapper,g,[h(I,s(x))],t({},I.stretchedUnderline,B)),id:N,"data-testid":S||v(b.TAB_LIST,N)},i.createElement("ul",{ref:D,tabIndex:0,className:r(I.tabsList,[h(I,A)]),role:"tablist"},V))}));Object.assign(C,{isTabList:!0});export{C as default};
//# sourceMappingURL=TabList.js.map
