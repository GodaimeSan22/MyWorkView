import{__rest as e}from"../../../_virtual/_tslib.js";import a,{forwardRef as n,useRef as t,useMemo as r}from"react";import i from"classnames";import o from"./hooks/useNumberFieldState.js";import l from"./hooks/useSpinButtonHandlers.js";import s from"../BaseInput/BaseInput.js";import d from"../FieldLabel/FieldLabel.js";import m from"../InfoText/InfoText.js";import u from"../Icon/Icon.js";import c from"./components/NumberFieldSpinButton/NumberFieldSpinButton.js";import f from"./NumberField.module.scss.js";import p from"../Flex/Flex.js";import b from"../../hooks/useMergeRef.js";var x=n((function(n,x){var h=n.className,v=n.value,O=n.onChange,g=n.label,y=n.required,j=n.placeholder,I=n.infoText,F=n.error,B=n.success,C=n.disabled,N=n.readOnly,w=n.min,E=n.max,M=n.step,T=void 0===M?1:M,V=n.size,q=void 0===V?"medium":V,z=n.leftIcon,A=n["aria-label"],D=n.id,R=n["data-testid"],S=n.allowOutOfBounds,k=n.onValidityChange,L=e(n,["className","value","onChange","label","required","placeholder","infoText","error","success","disabled","readOnly","min","max","step","size","leftIcon","aria-label","id","data-testid","allowOutOfBounds","onValidityChange"]),K=t(null),_=b(x,K),H=o({value:v,onChange:O,min:w,max:E,step:T,disabled:C,readOnly:N,allowOutOfBounds:S,onValidityChange:k}),G=H.inputValue,J=H.numericValue,P=H.onChange,Q=H.onKeyDown,U=H.isAtMin,W=H.isAtMax,X=l({onChange:O,value:J,step:T,min:w,max:E,allowOutOfBounds:S,readOnly:N,inputRef:K}),Y=X.onIncrement,Z=X.onDecrement,$=r((function(){return z?a.createElement(u,{icon:z,className:f.leftIcon}):null}),[z]),ee=r((function(){return a.createElement(c,{inputId:D,onIncrement:Y,onDecrement:Z,disabled:C||N,size:q,isAtMin:U,isAtMax:W})}),[D,Y,Z,C,N,q,U,W]),ae=r((function(){return I&&D?"".concat(D,"-info-text"):void 0}),[I,D]),ne=r((function(){return g&&D?"".concat(D,"-label"):void 0}),[g,D]);return a.createElement(p,{direction:"column",align:"stretch",gap:"xs",className:i(f.numberField,h)},a.createElement(d,{id:ne,className:f.label,labelText:g,required:y,labelFor:D}),a.createElement(s,Object.assign({},L,{"data-testid":R,ref:_,id:D,value:G,onChange:P,onKeyDown:Q,placeholder:j,type:"text",inputMode:"numeric",inputRole:"spinbutton","aria-valuenow":J,"aria-valuemin":w,"aria-valuemax":E,"aria-required":y,"aria-label":A||g,"aria-labelledby":ne,"aria-describedby":ae,disabled:C,readOnly:N,size:q,error:F,success:B,renderLeft:$,renderRight:ee})),a.createElement(m,{id:ae,text:I,error:F,success:B,disabled:C,readOnly:N}))}));export{x as default};
//# sourceMappingURL=NumberField.js.map
