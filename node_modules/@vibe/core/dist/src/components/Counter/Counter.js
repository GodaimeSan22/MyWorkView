import{slicedToArray as e,defineProperty as t}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{camelCase as o}from"lodash-es";import{getStyle as i}from"../../helpers/typesciptCssModulesHelper.js";import{getTestId as r,ComponentDefaultTestId as a}from"../../tests/testIds.js";import n from"classnames";import s,{useState as l,useRef as d,useCallback as m,useEffect as c,useMemo as u}from"react";import{SwitchTransition as f,CSSTransition as p}from"react-transition-group";import v from"../../hooks/useEventListener/index.js";import E from"../../hooks/useAfterFirstRender/index.js";import{NOOP as b}from"../../utils/function-utils.js";import{CounterSize as j,CounterColor as x,CounterType as h}from"./CounterConstants.js";import{withStaticPropsWithoutForwardRef as y}from"../../types/withStaticProps.js";import"../../utils/colors-vars-map.js";import A from"./Counter.module.scss.js";var N=y((function(j){var x=j.className,h=j.counterClassName,y=j.count,N=void 0===y?0:y,k=j.size,C=void 0===k?"large":k,g=j.kind,w=void 0===g?"fill":g,L=j.color,M=void 0===L?"primary":L,R=j.maxDigits,z=void 0===R?3:R,D=j.ariaLabeledBy,P=void 0===D?"":D,T=j.ariaLabel,B=void 0===T?"":T,H=j.id,O=void 0===H?"":H,U=j.prefix,_=void 0===U?"":U,F=j.onMouseDown,I=void 0===F?b:F,S=j.noAnimation,q=void 0!==S&&S,G=j["data-testid"],J=l(!1),K=e(J,2),Q=K[0],V=K[1],W=d(null),X=d(null),Y=m((function(){V(!0)}),[V]),Z=m((function(){V(!1)}),[V]);v({eventName:"animationend",callback:Z,ref:W});var $=E();c((function(){$.current&&Y()}),[N,$,Y]),c((function(){z>0||console.error("Max digits must be a positive number")}),[z]);var ee=u((function(){return n(A.counter,i(A,o("size-"+C)),i(A,o("kind-"+w)),i(A,o("color-"+M)),t({},A.withAnimation,Q),h)}),[C,w,M,Q,h]),te="counter"+(O?"-".concat(O):""),oe=(null==N?void 0:(""+N).length)>z?"".concat(Math.pow(10,z)-1,"+"):N+"",ie=s.createElement("span",{id:te,"data-testid":G||r(a.COUNTER,O)},_+oe);return s.createElement("span",{className:x,"aria-label":"".concat(B," ").concat(oe),"aria-labelledby":P,onMouseDown:I},s.createElement("div",{className:ee,"aria-label":oe,ref:W},q?ie:s.createElement(f,{mode:"out-in"},s.createElement(p,{key:oe,nodeRef:X,classNames:{enter:A.fadeEnter,enterActive:A.fadeEnterActive,exit:A.fadeExit,exitActive:A.fadeExitActive},addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)}},s.createElement("span",{ref:X,id:te,"data-testid":G||r(a.COUNTER,O)},_+oe)))))}),{sizes:j,colors:x,kinds:h});export{N as default};
//# sourceMappingURL=Counter.js.map
