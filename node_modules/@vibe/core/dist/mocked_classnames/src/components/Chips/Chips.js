import{slicedToArray as e,defineProperty as o}from"../../../_virtual/_rollupPluginBabelHelpers.js";import t,{forwardRef as r,useRef as a,useState as i,useCallback as s,useMemo as n}from"react";import l from"classnames";import c from"../Icon/Icon.js";import m from"../../hooks/useMergeRef.js";import{getCSSVar as d}from"../../services/themes.js";import{ElementAllowedColor as u}from"../../utils/colors-vars-map.js";import{getElementColor as p}from"../../types/Colors.js";import v from"../Avatar/Avatar.js";import f from"../IconButton/IconButton.js";import b from"../Text/Text.js";import{getTestId as g,ComponentDefaultTestId as y}from"../../tests/testIds.js";import{AvatarType as j}from"../Avatar/AvatarConstants.js";import{withStaticProps as h}from"../../types/withStaticProps.js";import k from"../../hooks/useSetFocus/index.js";import C from"../../hooks/useClickableProps/useClickableProps.js";import x from"./Chips.module.scss.js";import N from"../../../icons/dist/react/CloseSmall.js";var S=h(r((function(r,u){var j=r.className,h=r.avatarClassName,S=r.iconClassName,A=r.id,E=r.label,T=void 0===E?"":E,M=r.leftIcon,w=void 0===M?null:M,B=r.rightIcon,I=void 0===B?null:B,P=r.leftAvatar,z=void 0===P?null:P,L=r.rightAvatar,O=void 0===L?null:L,R=r.disabled,D=void 0!==R&&R,F=r.readOnly,H=void 0!==F&&F,_=r.allowTextSelection,U=void 0!==_&&_,q=r.color,G=void 0===q?"primary":q,J=r.iconSize,K=void 0===J?18:J,Q=r.onDelete,V=void 0===Q?function(e,o){}:Q,W=r.onMouseDown,X=r.onClick,Y=r.noAnimation,Z=void 0===Y||Y,$=r.ariaLabel,ee=r.disableClickableBehavior,oe=void 0!==ee&&ee,te=r.leftAvatarType,re=void 0===te?"img":te,ae=r.rightAvatarType,ie=void 0===ae?"img":ae,se=r.showBorder,ne=void 0!==se&&se,le=r.leftRenderer,ce=r.rightRenderer,me=r.closeButtonAriaLabel,de=void 0===me?"Remove":me,ue=r.noMargin,pe=void 0!==ue&&ue,ve=r["data-testid"]||g(y.CHIP,A),fe=!(!X&&!W||oe),be=!H&&!D,ge=$||"string"==typeof T&&T||"",ye=a(null),je=a(null),he=i(!1),ke=e(he,2),Ce=ke[0],xe=ke[1],Ne=s((function(){return xe(!0)}),[]),Se=s((function(){return xe(!1)}),[]),Ae=k({ref:je}).isFocused,Ee=m(u,je),Te=l(x.chips,j,o(o(o(o(o({},x.disabled,D),x.noAnimation,Z),x.withUserSelect,U),x.border,ne),x.noMargin,pe)),Me=l(x.clickable,Te,o(o({},x.disabled,D),x.disableTextSelection,!U)),we=n((function(){return{backgroundColor:D?d("disabled-background-color"):fe&&(Ce||Ae)?p(G,!0,!0):p(G,!0)}}),[D,fe,Ce,Ae,G]),Be=s((function(e){e.stopPropagation(),V&&V(A,e)}),[A,V]),Ie=s((function(e){void 0!==X&&e.target!==ye.current&&(e.preventDefault(),X(e))}),[X]),Pe=C({onClick:Ie,onMouseDown:W,disabled:D,id:A,"data-testid":ve,ariaLabel:ge,ariaHidden:!1,ariaHasPopup:!1,ariaExpanded:!1},Ee),ze=fe?Object.assign(Object.assign({},Pe),{ref:Ee,className:Me,style:we,onMouseEnter:Ne,onMouseLeave:Se}):{className:Te,"aria-label":ge,style:we,ref:Ee,onClick:Ie,onMouseDown:W,id:A,"data-testid":ve,onMouseEnter:Ne,onMouseLeave:Se},Le="text"===re?{text:z}:{src:z},Oe="text"===re?{text:O}:{src:O};return t.createElement("div",Object.assign({},ze),z?t.createElement(v,Object.assign({withoutBorder:!0,className:l(x.avatar,x.left,h),customSize:18,type:re,key:A},Le)):null,w?t.createElement(c,{className:l(x.icon,x.left,S),iconType:"font",icon:w,iconSize:K,ignoreFocusStyle:!0}):null,le&&t.createElement("div",{className:l(x.customRenderer,x.left)},le),t.createElement(b,{type:"text2",className:x.label},T),I?t.createElement(c,{className:l(x.icon,x.right,S),iconType:"font",icon:I,iconSize:K,ignoreFocusStyle:!0}):null,O?t.createElement(v,Object.assign({withoutBorder:!0,className:l(x.avatar,x.right,h),customSize:18,type:ie,key:A},Oe)):null,ce&&t.createElement("div",{className:l(x.customRenderer,x.right)},ce),be&&t.createElement(f,{size:"xxs",color:"on-primary-color",className:l(x.icon,x.close),ariaLabel:de,hideTooltip:!0,icon:N,onClick:Be,"data-testid":"".concat(ve,"-close"),ref:ye}))})),{colors:u,avatarTypes:j});export{S as default};
//# sourceMappingURL=Chips.js.map
